jQuery(document).ready((function(e){e.the7Slider=function(t,i){const n={selectors:{slider:".elementor-slides-wrapper:not(.thumbs-slides-wrapper)",thumbsSlider:".thumbs-slides-wrapper",slide:"the7-swiper-slide",slideInnerContents:".the7-slide-content",activeSlide:".swiper-slide-active",activeDuplicate:".swiper-slide-duplicate-active"},classes:{inPlaceTemplateEditable:"elementor-in-place-template-editable"},attributes:{dataAnimation:"animation"},changeableProperties:{pause_on_hover:"pauseOnHover",autoplay_speed:"delay",transition_speed:"speed",autoplay:"autoplay"}};let s,o,a,r,l,d,p,u,c,m,h,g,f,v,w=e(t),y={$swiperContainer:w.find(n.selectors.slider).first(),$swiperThumbsContainer:w.find(n.selectors.thumbsSlider).first(),animatedSlides:{},activeElements:[]};y.$slides=y.$swiperContainer.find("> .the7-elementor-slides >."+n.selectors.slide),y.$thumbsSlides=y.$swiperThumbsContainer.find("> .the7-elementor-slides >."+n.selectors.slide),w.vars={sliderInitialized:!1,isInlineEditing:!1},e.data(t,"the7Slider",w),r={initVars:function(){w.css("--widget-width",w.width()+"px"),y.$swiperThumbsContainer.length&&(w.vars.thumbGap=the7Utils.parseIntParam(w.css("--thumbs-spacing"),0),w.vars.colNum=the7Utils.parseIntParam(w.css("--thumbs-items"),3)),w.vars.isVertical="vertical"===w.vars.scrollMode},init:function(){r.initVars(),s=new The7ElementorSettings(w),p=s.getWidgetType(),a=s.getSettings(),u=w.find(".the7-video-overlay"),m=!!a.controls,h=!!a.video_autoplay,g=!!a.play_on_mobile,f=elementorFrontend.getCurrentDeviceMode(),o=new The7ElementorAnimation,w[0].classList.contains("elementor-widget-the7-woocommerce-product-images-slider")&&"y"===a.open_lightbox&&w.find(".the7-elementor-slides").initPhotoswipe(),elementorFrontend.isEditMode()&&r.handleCTA(),this.initThumb().then((()=>this.initSlider())),w.css("--widget-height",y.$swiperContainer.height()+"px"),w.refresh(),r.handleResize=elementorFrontend.debounce(r.handleResize,1e3)},runElementHandlers:function(e){[...e].flatMap((e=>[...e.querySelectorAll(".elementor-element")])).forEach((e=>elementorFrontend.elementsHandler.runReadyTrigger(e)))},handleElementHandlers:function(e){if(!e)return;const t=Array.from(e.slides).filter((t=>t.classList.contains(e.params.slideDuplicateClass)));r.runElementHandlers(t)},handleCTA:function(){if("undefined"==typeof elementorPro)return;const e=document.querySelector(`[data-id="${s.getID()}"] .e-loop-empty-view__wrapper`);if(document.querySelector(`[data-id="${s.getID()}"] .e-loop-empty-view__wrapper_old`))return void w.css("opacity",1);if(!e)return;const t=e.attachShadow({mode:"open"});if(t.appendChild(elementorPro.modules.loopBuilder.getCtaStyles()),t.appendChild(elementorPro.modules.loopBuilder.getCtaContent(p)),r.isLoop()){t.querySelector(".e-loop-empty-view__box-cta").addEventListener("click",(()=>{elementorPro.modules.loopBuilder.createTemplate(),r.handleSlider()}))}w.css("opacity",1)},bindEvents:function(){r.initIntersectionObserver(),elementorFrontend.elements.$window.on("the7-resize-width",r.handleResize)},unBindEvents:function(){elementorFrontend.elements.$window.off("the7-resize-width",r.handleResize),void 0!==d&&(d.unobserve(w[0]),d=void 0)},handleSlider:function(){w.vars.sliderInitialized&&(w.vars.isInlineEditing=!0,w.addClass(n.classes.inPlaceTemplateEditable),l.slideTo(0),l.autoplay.stop(),l.pagination.destroy(),l.navigation.destroy(),l.allowTouchMove=!1,l.params.autoplay.disableOnInteraction=!0,l.params.autoplay.pauseOnMouseEnter=!1,l.params.autoplay.delay=1e6,l.update())},handleResize:function(){if(!w.vars.sliderInitialized)return;r.removeElementsAnimation(!0),r.findAnimationInElements(),r.updateActiveElements(),r.removeElementsAnimation(),r.addElementsAnimation(),f=elementorFrontend.getCurrentDeviceMode();const e=elementorFrontend.getCurrentDeviceMode();"mobile"===f&&h&&!g?c.removeClass("dt-pswp-item-no-click"):h&&"y"===a.open_lightbox&&c.addClass("dt-pswp-item-no-click"),void 0!==v&&(v.changeDirection(r.getDirection(f)),e!==f&&v.update()),f=e},getLoopedSlides:function(e){let t=r.getSlidesCount();return"all"!==a.slides_to_scroll?t:Math.trunc(t/e)*e},getSlidesCount:function(){return y.$slides.length},initIntersectionObserver:function(){"yes"===a.autoplay&&(d=elementorModules.utils.Scroll.scrollObserver({offset:"-15% 0% -15%",callback:e=>{e.isInViewport?r.swiperAutoplayStart():r.swiperAutoplayStop()}}),d.observe(w[0]))},swiperAutoplayStop(){w.vars.sliderInitialized&&!w.vars.isInlineEditing&&l.autoplay.stop()},swiperAutoplayStart(){w.vars.sliderInitialized&&!w.vars.isInlineEditing&&l.autoplay.start()},getEffect:()=>a.transition,getSlidesPerView:function(e){if("slide"===r.getEffect()){return+The7ElementorSettings.getResponsiveControlValue(a,"slides_per_view","size",e)||1}return 1},isEnoughElements:function(e){return e<r.getSlidesCount()},getSlidesToScroll:function(e){let t=1;return"slide"===r.getEffect()&&"all"===a.slides_to_scroll&&(t=e),t},getAutoHeight:function(){let e=!0;return r.isLoop()&&(e=!1),e},getSwiperOptions:function(){let t=r.getSlidesPerView("desktop");swiperOptions={autoplay:this.getAutoplayConfig(),grabCursor:!0,initialSlide:this.getInitialSlide(),slidesPerView:t,slidesPerGroup:r.getSlidesToScroll(t),loop:r.isEnableLoop(t),loopPreventsSlide:!0,pauseOnMouseEnter:!0,speed:a.transition_speed,effect:r.getEffect(),observeParents:!1,observer:!0,handleElementorBreakpoints:!1,slideClass:n.selectors.slide},w[0].classList.contains("elementor-widget-the7-woocommerce-product-images-slider")||(swiperOptions.autoHeight=r.getAutoHeight()),void 0!==v&&(swiperOptions.thumbs={swiper:v});swiperOptions.navigation={prevEl:y.$swiperContainer.children(".the7-swiper-button-prev")[0],nextEl:y.$swiperContainer.children(".the7-swiper-button-next")[0]},swiperOptions.pagination={el:y.$swiperContainer.children(".swiper-pagination")[0],type:"bullets",bulletActiveClass:"active",bulletClass:"owl-dot",clickable:!0,renderBullet:function(e,t){return'<button role="button" class="'+t+'" aria-label="Go to slide '+e+'1"><span></span></button>'}},swiperOptions.loopedSlides=r.getLoopedSlides(swiperOptions.slidesPerGroup),"fade"===swiperOptions.effect&&(swiperOptions.fadeEffect={crossFade:!0}),a.slides_gap&&(swiperOptions.spaceBetween=this.getSpaceBetween()),breakpoints=elementorFrontend.config.responsive.activeBreakpoints,swiperOptions.breakpoints={},Object.keys(breakpoints).forEach((e=>{let t=breakpoints[e].value;swiperOptions.breakpoints[t]={};let i=r.getSlidesPerView(e);i&&(swiperOptions.breakpoints[t].slidesPerView=i,swiperOptions.breakpoints[t].slidesPerGroup=r.getSlidesToScroll(i),swiperOptions.breakpoints[t].pagination={}),a.slides_gap&&(swiperOptions.breakpoints[t].spaceBetween=r.getSpaceBetween(e))}));let s=dtLocal.elementor.settings.container_width,o=a.widget_columns_wide_desktop_breakpoint;o&&(s=o);let l=a.wide_desk_columns;return l&&(swiperOptions.breakpoints[s]={slidesPerView:parseInt(l),slidesPerGroup:r.getSlidesToScroll(parseInt(l))}),swiperOptions=r.adjustBreakpointsConfig(swiperOptions),void 0!==i&&(swiperOptions=e.extend(!0,swiperOptions,i.swiperOptions)),swiperOptions},getThumbsOptions:function(){swiperOptions={grabCursor:!0,initialSlide:this.getInitialSlide(),spaceBetween:this.getSpaceBetweenThumbs(),observeParents:!1,watchSlidesProgress:!0,slidesPerView:"auto",speed:600,threshold:20,slideClass:n.selectors.slide,direction:this.getDirection(),handleElementorBreakpoints:!1};swiperOptions.navigation={prevEl:y.$swiperThumbsContainer.siblings(".the7-thumbs-swiper-button-prev")[0],nextEl:y.$swiperThumbsContainer.siblings(".the7-thumbs-swiper-button-next")[0]};const e={},t=elementorFrontend.config.responsive.activeBreakpoints;return Object.keys(t).forEach((i=>{e[t[i].value]={direction:this.getDirection(i),spaceBetween:this.getSpaceBetweenThumbs(i)}})),swiperOptions.breakpoints=e,swiperOptions=r.adjustBreakpointsConfig(swiperOptions),swiperOptions},adjustBreakpointsConfig(e){const t=elementorFrontend.config.responsive.activeBreakpoints,i=elementorFrontend.breakpoints.getBreakpointValues();return Object.keys(e.breakpoints).forEach((n=>{const s=parseInt(n);let o;if(s===t.mobile.value||s+1===t.mobile.value)o=0;else{if(t.widescreen&&(s===t.widescreen.value||s+1===t.widescreen.value))return;{const e=i.findIndex((e=>s===e||s+1===e));if(-1===e)return;o=i[e-1]}}e.breakpoints[o]=e.breakpoints[n],e.breakpoints[n]={slidesPerView:e.slidesPerView,slidesPerGroup:e.slidesPerGroup?e.slidesPerGroup:1},"spaceBetween"in e&&(e.breakpoints[n].spaceBetween=e.spaceBetween)})),e},getSpaceBetween(){if("fade"===swiperOptions.effect)return 0;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return The7ElementorSettings.getResponsiveControlValue(a,"slides_gap","size",e)||0},getDirection:e=>The7ElementorSettings.getResponsiveControlValue(a,"thumbs_direction","",e)||"vertical",getSpaceBetweenThumbs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return The7ElementorSettings.getResponsiveControlValue(a,"thumbs_spacing","size",e)||0},getAutoplayConfig:function(){return"yes"===a.autoplay&&{stopOnLastSlide:!0,delay:a.autoplay_speed,disableOnInteraction:!0}},handlePauseOnHover:function(){if(!w.vars.sliderInitialized)return;let e=!1;"yes"===a.pause_on_hover&&(e=!0),"yes"!==a.autoplay&&(e=!1),e?y.$swiperContainer.on({mouseenter:()=>{r.swiperAutoplayStop()},mouseleave:()=>{r.swiperAutoplayStart()}}):y.$swiperContainer.off("mouseenter mouseleave")},getInitialSlide:()=>0,initThumb:async function(){const e=y.$swiperThumbsContainer,t=elementorFrontend.utils.swiper;e.length&&(v=await new t(e,this.getThumbsOptions()),r.updateNav(v),r.updateBreakpoint(v),r.loopLazyFix(v),v.on("snapGridLengthChange",r.updateNav),v.on("breakpoint",r.updateBreakpoint),r.handleElementHandlers(v))},initSlider:async function(){const e=y.$swiperContainer;if(!e.length)return;const t=elementorFrontend.utils.swiper;l=await new t(e,this.getSwiperOptions()),w.vars.sliderInitialized=!0,l.navigation.enabled=!0,r.isEnoughElements(l.params.slidesPerView)&&(l.navigation.enabled=!1,l.navigation.enabled=!1),c=l.slides.find(".gallery-video-wrap"),r.clickVideo(l),r.updateBreakpoint(l),r.loopLazyFix(l),r.loopPhotoswipeFix(l),r.updateNav(l),r.findAnimationInElements(),w.css("opacity",1),r.updateActiveElements(),r.removeElementsAnimation(),r.zoomOnHover(),setTimeout((()=>{r.updateActiveElements(),r.removeElementsAnimation(!0),r.addElementsAnimation()}),300),r.handlePauseOnHover(),l.on("slideChange",(function(){r.playPauseVideo(l,"pause")})),l.on("slideChangeTransitionEnd",(function(){r.updateActiveElements(),r.removeElementsAnimation(),r.addElementsAnimation(),r.clickVideo(l)})),l.on("snapGridLengthChange",r.updateNav),l.on("breakpoint",r.updateBreakpoint),r.handleElementHandlers(l),w.find(".dt-owl-carousel-call, .elementor-owl-carousel-call, .related-projects, .slider-simple:not(.slider-masonry)").trigger("refresh.owl.carousel")},loopLazyFix:function(t){if(t.params.loop){let i=e(t.wrapperEl).children("."+t.params.slideDuplicateClass);i.find(".is-loading").removeClass("is-loading"),i.layzrInitialisation()}},loopPhotoswipeFix:function(t){if("y"===a.open_lightbox){e(t.wrapperEl).children("."+t.params.slideDuplicateClass).initPhotoswipe()}},updateNav:function(e){r.isEnoughElements(e.params.slidesPerView)?e.navigation.enabled||(e.navigation.destroy(),e.navigation.init(),e.navigation.update(),e.pagination.destroy(),e.pagination.init(),e.pagination.render(),e.pagination.update(),e.navigation.enabled=!0):e.navigation.enabled&&(e.navigation.destroy(),e.navigation.$nextEl&&e.navigation.$nextEl.addClass(e.params.navigation.disabledClass),e.navigation.$prevEl&&e.navigation.$prevEl.addClass(e.params.navigation.disabledClass),e.pagination.destroy(),e.pagination.$el&&e.pagination.$el.addClass(e.params.pagination.hiddenClass),e.navigation.enabled=!1)},updateBreakpoint:function(e){r.updateScrollSpeed(e);let t=!1,i=e.params.loop;if(e.params.loop=r.isEnableLoop(e.params.slidesPerView),!0===e.params.loop){let i=e.params.loopedSlides;e.params.loopedSlides=r.getLoopedSlides(e.params.slidesPerGroup),e.params.loopedSlides!==i&&(t=!0)}e.params.loop!==i&&e.params.loop&&(t=!0),t?(e.loopDestroy(),e.loopCreate(),e.updateSlides(),r.loopLazyFix(e),r.handleElementHandlers(e)):e.params.loop===i||e.params.loop||(e.loopDestroy(),e.updateSlides())},isEnableLoop:function(e){return"yes"===a.infinite&&r.isEnoughElements(e)},updateScrollSpeed:function(e){e.$el[0].classList.contains("thumbs-slides-wrapper")||(e.params.speed=a.transition_speed,e.params.slidesPerGroup==e.params.slidesPerView&&(e.params.speed=e.params.slidesPerView*a.transition_speed))},updateSwiperOption:function(e){if(!w.vars.sliderInitialized)return;let t=!1;if(["slides_to_scroll","slides_gap","slides_per_view"].forEach((i=>{e.startsWith(i)&&(l.params.breakpoints=this.getSwiperOptions().breakpoints,l.currentBreakpoint=!1,l.update(),t=!0,r.findAnimationInElements(),e.startsWith("slides_per_view")&&(r.updateActiveElements(),r.addElementsAnimation()))})),t)return;const i=a[e];let s=n.changeableProperties[e],o=i;switch(e){case"autoplay_speed":l.autoplay.stop(),s="autoplay",o={delay:i,disableOnInteraction:!0};break;case"pause_on_hover":r.handlePauseOnHover();break;case"autoplay":l.autoplay.stop(),o=r.getAutoplayConfig(),r.handlePauseOnHover()}"pause_on_hover"!==e&&(l.params[s]=o),l.update(),"autoplay"===s&&"yes"===a.autoplay&&l.autoplay.start()},isLoop:function(){return"the7-slider-loop"===p},updateActiveElements:function(){if(!l.params)return;let t=[],i=l.params.slidesPerView?l.params.slidesPerView:1,s=l.activeIndex,o=s+i;for(let i=s;i<o;i++){let n=y.animatedSlides[i];void 0!==n&&(t=e.merge(e.merge([],n),t))}e(l.slides).filter(n.selectors.activeDuplicate).each((function(n){const a=e(l.slides).index(e(this));s=a,o=s+i;for(let i=a;i<o;i++){const n=y.animatedSlides[i];void 0!==n&&(t=e.merge(e.merge([],n),t))}})),y.activeElements=t},removeElementsAnimation(t=!1){if(!w.vars.sliderInitialized)return;let i=[];Object.keys(y.animatedSlides).forEach((function(t){let n=y.animatedSlides[t];i=e.merge(e.merge([],n),i)})),t||(i=i.filter((function(t){return e.inArray(t,y.activeElements)<0}))),i.forEach((function(e){let i=e.$element.filter(".the7-ignore-anim");i.length?t||i.trigger("the7-slide:hide"):o.resetElement(e)}))},addElementsAnimation(){w.vars.sliderInitialized&&y.activeElements.forEach((function(e){let t=e.$element.filter(".the7-ignore-anim");t.length?t.trigger("the7-slide:change"):o.animateElement(e)}))},findAnimationInElements(){if(!w.vars.sliderInitialized)return;let t={};e(l.slides).each((function(i){const n=e(this);let s=o.findAnimationsInNode(n);s.length&&(t[i]=s)})),y.animatedSlides=t},zoomOnHover(){"y"===a.zoom_on_hover&&e(".mobile-false").length>0&&e(".the7-zoom-on-hover",y.$swiperContainer).on({mousemove:e=>{let t=e.currentTarget,i=e.offsetX?e.offsetX:0,n=e.offsetX?e.offsetY:0,s=i/t.offsetWidth*100,o=n/t.offsetHeight*100;t.style.backgroundPosition=`${s}% ${o}%`}})},postMessageToPlayer:function(e,t){null!=e&&null!=t&&e.contentWindow.postMessage(JSON.stringify(t),"*")},clickVideo:function(t){u.length&&u.is(":visible")&&"y"!==a.open_lightbox?c.parent().on("click",(function(i){var n=e(this);n.hasClass("playing-video")||(n.find(".the7-video-overlay").remove(),r.playPauseVideo(t,"play"),n.addClass("playing-video"))})):("mobile"!==f&&h||"mobile"===f&&h&&g)&&r.playPauseVideo(t,"play")},playPauseVideo:function(e,t){let i=e.slides.eq(e.activeIndex),n=i.find("iframe"),s=n.length>0?n.attr("title").split(" ")[0]:"video",o=n.length>0?n[0]:null,l=i.find("video")[0],d=!!a.mute,p=!!a.loop;if("vimeo"===s)switch(t){case"play":r.postMessageToPlayer(o,{method:"play",value:1});break;case"pause":r.postMessageToPlayer(o,{method:"pause",value:1})}else if("youtube"===s)switch(t){case"play":d&&r.postMessageToPlayer(o,{event:"command",func:"mute"}),r.postMessageToPlayer(o,{event:"command",func:"playVideo"}),p&&r.postMessageToPlayer(o,{event:"command",func:"loop"});break;case"pause":r.postMessageToPlayer(o,{event:"command",func:"pauseVideo"})}else"video"===s&&l&&("play"===t?l.play():l.pause())}},w.refresh=function(){a=s.getSettings(),r.unBindEvents(),r.bindEvents()},this.update=function(){l&&(l.update(),v&&v.update())},this.delete=function(){r.unBindEvents(),w.removeData("the7Slider"),l&&l.destroy()},this.updateSwiperOption=function(e){a=s.getSettings(),r.updateSwiperOption(e)},this.onDocumentLoaded=function(e){if("loop-item"===e.config.type&&r.isLoop()){if(!w.vars.sliderInitialized)return;r.handleSlider();let t=[".swiper-pagination",".the7-swiper-button"];const i=e.id;t=[...t,"style#loop-"+i,"link#font-loop-"+i,"style#loop-dynamic-"+i],t.forEach((e=>{w.find(e).remove()}))}},w.getSwiper=function(){return l},this.getSwiper=function(){return l},r.init()},e.fn.the7Slider=function(t){var i="string"==typeof t,n=Array.prototype.slice.call(arguments,1);return this.each((function(){var s=e(this);if(i){var o=s.data("the7Slider");if(!o)throw Error("Trying to perform the `"+t+"` method prior to initialization");if(!o[t])throw ReferenceError("Method `"+t+"` not found in instance");o[t].apply(o,n)}else s.data("the7Slider",new e.the7Slider(this,t))})),this}})),function(e){e(window).on("elementor/frontend/init",(function(){function t(e,t){t(document).ready((function(){elementorFrontend.isEditMode()&&The7ElementorAnimation.patchElementsAnimation(e),e.the7Slider()}))}function i(t,i){let n=["autoplay_speed","pause_on_hover","autoplay","transition_speed",...The7ElementorSettings.getResponsiveSettingList("slides_gap"),"slides_to_scroll",...The7ElementorSettings.getResponsiveSettingList("slides_per_view")];const s=t.model.get("name");if(-1!==n.indexOf(s)){const t=e(i.$el).data("the7Slider");void 0!==t&&t.updateSwiperOption(s)}}elementorFrontend.hooks.addAction("frontend/element_ready/the7-slider.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/the7-slider-loop.post",t),elementorFrontend.hooks.addAction("frontend/element_ready/the7-woocommerce-product-images-slider.default",t),elementorFrontend.isEditMode()?(elementorEditorAddOnChangeHandler("the7-slider",i),elementorEditorAddOnChangeHandler("the7-slider-loop",i),elementorEditorAddOnChangeHandler("the7-woocommerce-product-images-slider",i),elementor.on("document:loaded",(function(t){e(".elementor-widget-the7-slider-loop").each((function(){const i=e(this).data("the7Slider");void 0!==i&&i.onDocumentLoaded(t)}))}))):The7ElementorAnimation.patchElementsAnimation(e(".elementor-widget-the7-slider-common .the7-swiper-slide"))}))}(jQuery);